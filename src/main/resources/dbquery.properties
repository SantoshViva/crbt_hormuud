#Default operator Id
QUERY_INBOX_USER_ID=select * from (select * from tb_chat_messages where friendMsisdn='{msisdn}' order by id desc) as t group by msisdn order by id desc
SQL2_MYCHAT_MESSAGE_DETAILS=select * from tb_chat_messages_history_{table_index}  where msisdn ='{msisdn}' and  friendMsisdn='{friendMsisdn}' order by chat_read_date  desc limit 0,8
SQL3_MYFRIENDCHAT_MESSAGE_DETAILS=select * from tb_chat_messages_history_{table_index}  where msisdn ='{friendMsisdn}' and  friendMsisdn='{msisdn}' order by chat_read_date  desc limit 0,8
SQL4_TODAY_USER_ID= select ano.todayUserId, ano.todayMsisdn from tb_chat_today_special_userId_{table_index} ano, tb_subscriptions_{table_index} sub where ano.msisdn = '{msisdn}' and ano.msisdn not in (select friend_msisdn from tb_chat_friend_user_details_{table_index} where msisdn ='{msisdn}') and ano.msisdn not in (select blocked_msisdn from tb_anonymous_chat_block_user_details_{table_index} where msisdn='{msisdn}') and ano.msisdn not in (select friendMsisdn from tb_chat_messages where msisdn='{msisdn}') and ano.msisdn not in (select friendMsisdn from tb_chat_messages_history_{table_index} where msisdn='{msisdn}') and ano.msisdn = sub.msisdn and sub.service ='FB' and ano.operator_id='AIRTEL' and sub.status in ('SUBSCRIBED','GRACE','PENDING') order by ano.id  limit 0 , 4
SQL5_INBOX_MESSAGE_DETAILS =  select *from tb_chat_messages where msisdn='{msisdn}'  and friendMsisdn='{friendMsisdn}'order by chat_date
SQL6_SELECT_GENDER = select gender from tb_anonymous_chat_acc_details_{table_index} where  msisdn='{msisdn}'
SQL7_MYCHAT_USER_ID_INBOX=   select fMsisdn, userId as fUserId, chat_date,DATE_FORMAT(chat_date, "%H:%i")as chatTime, substring(message,1,15) as message from ((select friendUserId as userId,friendMsisdn as fMsisdn,message,chat_date ,id from (select * from tb_chat_messages where msisdn='{msisdn}' order by id desc) as t group by friendMsisdn order by id desc ) UNION (select UserId as userId,msisdn as fMsisdn,message,chat_date,id  from (select * from tb_chat_messages where friendMsisdn='{msisdn}' order by id desc) as t group by msisdn order by id desc)) as p  order by userId,id desc
SQL8_MYCHAT_USER_ID_FROM_HISTORY_TO_OTHERS=select friendMsisdn,friendUserId,substring(message,1,15) as message,chat_read_date,DATE_FORMAT(chat_read_date, "%H:%i") as chatTime from (select *from  tb_chat_messages_history_{table_index} where msisdn='{msisdn}' order by id desc) as t group by friendMsisdn order by id desc
SQL9_MYCHAT_USER_ID_FROM_HISTORY_TO_SELF=select msisdn as fMsisdn,UserId as fUserId,chat_read_date,DATE_FORMAT(chat_read_date, "%H:%i") as chatTime,substring(message,1,15) as message from (select *from  tb_chat_messages_history_{all_table_index} where friendMsisdn='{msisdn}' order by id desc) as t group by msisdn order by id desc
SQL10_CONTACTS_DETAILS =select friend_msisdn as friendMsisdn, friend_userId as friendUserId, Add_friend_date as AddFriendDate,DATE_FORMAT(Add_friend_date, "%H:%i") as AddFriendTime from tb_chat_friend_user_details_{table_index} where msisdn='{msisdn}'
SQL11_GET_USER_ID = select  msisdn as friendMsisdn, userId as friendUserId, gender from tb_anonymous_chat_acc_details_{table_index} where msisdn='{msisdn}'
SQL12_GET_TABLE_INDEX = select table_index from tb_anonymous_chat_username_table_index_mapping where user_id='{userId}'
#SQL13_SEARCH_USER_ID = select ano.msisdn as friendMsidn, ano.userId as friendUserId,ano.gender as gender from tb_anonymous_chat_acc_details_{get_table_index} ano, tb_subscriptions_{get_table_index} sub where ano.msisdn != '{msisdn}'  and ano.msisdn not in (select friend_msisdn from tb_chat_friend_user_details_{get_table_index} where msisdn ='{msisdn}') and ano.msisdn not in (select blocked_msisdn from tb_anonymous_chat_block_user_details_{get_table_index} where msisdn='{msisdn}') and ano.msisdn not in (select friendMsisdn from tb_chat_messages where msisdn='{msisdn}') and ano.msisdn not in (select friendMsisdn from tb_chat_messages_history_{get_table_index} where msisdn='{msisdn}') and ano.msisdn = sub.msisdn and userId like '{searchText}%' and sub.service ='FB' and ano.status='Y' and sub.status in ('SUBSCRIBED','GRACE','PENDING') order by ano.id limit 0, 8
SQL13_SEARCH_USER_ID =  select ano.msisdn as friendMsisdn, ano.userId as friendUserId,ano.gender as gender from tb_anonymous_chat_acc_details_{get_table_index} ano  where ano.msisdn != '{msisdn}'  and userId like '{searchText}%' and ano.status='Y' order by ano.id limit 0, 8;
SQL14_USER_PROFILE_INFO= select status,userId,gender from tb_anonymous_chat_acc_details_{table_index} where msisdn='{msisdn}'
#May-20 SQL15_USER_ACCOUNT_INFO= select operator_id,Status,renewal_ts from tb_subscriptions_{table_index} where msisdn='{msisdn}' and service='FB' limit 1
SQL15_USER_ACCOUNT_INFO= select status from gs_subscriber_info where msisdn='{msisdn}'
SQL16_USER_ACCOUNT_CREATE = insert into tb_anonymous_chat_acc_details_{table_index} (msisdn, userId,gender, ageGroup, location, interests, status,operator_id,notification_opt,notification_date,notification_count,activation_date) values ('{msisdn}','{userId}','{gender}','{ageGroup}','','','Y','{operator}','{defaultNotificationOpt}', now(), 0, now());
SQL17_CHECK_MAX_USER_ID = select prefix_name,max_id+1 as maxId from tb_anonymous_chat_user_info where gender ='{gender}' and  operator_id='{operator}' order by max_id limit 1
SQL18_USER_ID_MAPPING = insert into tb_anonymous_chat_username_table_index_mapping (user_id,table_index,operator_id) values('{userId}', '{table_index}','{operator}')
SQL19_UPDATE_MAX_USER_ID = update tb_anonymous_chat_user_info set max_id=max_id+1 where prefix_name='{prefixName}' and operator_id='{operator}'
SQL20_DEFAULT_TODAY_USERID = select ano.userId as todayUserId, ano.msisdn as todayMsisdn from tb_anonymous_chat_acc_details_{table_index} ano, tb_subscriptions_{table_index} sub where ano.msisdn != '{msisdn}' and ano.status='Y' and ano.gender != '{gender}' and  ano.msisdn not in (select friend_msisdn from tb_chat_friend_user_details_{table_index} where msisdn ='{msisdn}') and ano.msisdn not in (select blocked_msisdn from tb_anonymous_chat_block_user_details_{table_index} where msisdn='{msisdn}') and ano.msisdn not in (select friendMsisdn from tb_chat_messages where msisdn='{msisdn}') and ano.msisdn not in (select friendMsisdn from tb_chat_messages_history_{table_index} where msisdn='{msisdn}') and ano.msisdn = sub.msisdn and sub.service ='FB' and ano.operator_id='AIRTEL' and sub.status in ('SUBSCRIBED','GRACE','PENDING') limit 0 , 4
SQL21_INSERT_CHAT_MESSAGE_INBOX= insert into tb_chat_messages (msisdn,UserId, friendMsisdn,friendUserId,message,operator_id)values('{msisdn}','{userId}','{friendMsisdn}','{friendUserId}','{chatMessage}','{operator}');
SQL22_INSERT_CHAT_MESSAGE_HISTORY= insert into tb_chat_messages_history_{table_index} (msisdn, userId, friendMsisdn,friendUserId, message, chat_read_date,operator_id) values('{msisdn}','{userId}','{friendMsisdn}','{friendUserId}','{chatMessage}',now(),'{operator}');
SQL23_USER_TONE_INFO=select status,tone_type,calling_party,tone_id,song_name,song_path,service_id from CRBT_SUBS_TONE_PROV_INFO where subscriber_id='{msisdn}' order by tone_type Desc;
SQL23_USER_ALBUM_INFO = select toneid1,tonename1,toneid2,tonename2,toneid3,tonename3,toneid4,tonename4 from albums where albumid='{albumId}';
SQL23_USER_TONE_INFO_DETAILS=select tone_id,song_name,song_path from CRBT_SUBS_TONE_PROV_INFO where subscriber_id='{msisdn}' order by tone_type Desc;
SQL24_TONE_PLAYER_DTMF= insert into CRBT_SUBS_TONE_DTMF_INFO (aparty,bparty,tone_id,digits,start_time,end_time,star_to_copy) values ('{aparty}','{bparty}','{tone_id}','{digits}',STR_TO_DATE('{start_time}','%Y-%m-%d %H:%i:%s'),STR_TO_DATE('{end_time}','%Y-%m-%d %H:%i:%s'),'{star_to_copy}');
SQL25_USER_PROFILE_INFO= select subscriber_status,ivr_langId from SUBSCRIBER_PROFILE_DETAILS where subscriber_id='{msisdn}';
SQL26_USER_GIFT_INBOX_CHECK= select gifter_id,tone_id from CRBT_GIFT_INBOX_DETAILS where giftee_id='{msisdn}' and status='Y';
SQL27_INSERT_IVR_LANGUAGE=insert into SUBSCRIBER_PROFILE_DETAILS (subscriber_id,ivr_langId,subscriber_status,ivr_lang_update) values ('{aparty}','{ivrLang}','P',now());
SQL28_UPDATE_SUB_PROFILE= update SUBSCRIBER_PROFILE_DETAILS set subscriber_status='{sub_status}',activation_date=now() where subscriber_id='{aparty}';
SQL29_UPDATE_IVR_LANGUAGE= update SUBSCRIBER_PROFILE_DETAILS set ivr_langId='{ivrLang}',ivr_lang_update=now() where subscriber_id='{aparty}';
SQL30_UPDATE_UNSUB_PROFILE= update SUBSCRIBER_PROFILE_DETAILS set subscriber_status='{sub_status}',deactivate_date=now() where subscriber_id='{aparty}';
SQL31_CAT_SUB_CAT_SONGS_DETAILS = select tone_id from CRBT_IVR_CATEGORY_INFO where cat_id='{categoryId}' and sub_cat_id='{subCategoryId}';
SQL32_INSERT_TONE_PROV_INFO= insert into CRBT_SUBS_TONE_PROV_INFO (subscriber_id,tone_type,tone_type_idx,STATUS,calling_party,tone_id,song_name,SERVICE_ID,SONG_PATH,tone_activation_date) values ('{aparty}','{toneType}','{toneTypeIdx}','{status}','{callingParty}','{toneId}','{songName}','{serviceId}','{songPath}',now());
SQL32_UPDATE_TONE_PRO_INFO= update CRBT_SUBS_TONE_PROV_INFO set tone_type='{toneType}',tone_type_idx='{toneTypeIdx}',STATUS='{status}',calling_party='{callingParty}',tone_id='{toneId}',song_name='{songName}',SERVICE_ID='{serviceId}', tone_activation_date=now() where subscriber_id='{aparty}' and tone_type='{toneType}' and tone_type_idx='{toneTypeIdx}'
SQL32_UPDATE_TONE_PROV_INFO= update CRBT_SUBS_TONE_PROV_INFO set tone_type='{toneType}',tone_type_idx='{toneTypeIdx}',STATUS='{status}',calling_party='{callingParty}',tone_id='{toneId}',song_name='{songName}',SERVICE_ID='{serviceId}',SONG_PATH='{songPath}', tone_activation_date=now() where subscriber_id='{aparty}' and tone_type='{toneType}' and tone_type_idx='{toneTypeIdx}'
SQL32_DELETE_TONE_PROV_INFO=delete from CRBT_SUBS_TONE_PROV_INFO where subscriber_id='{aparty}' and tone_type='{toneType}' and tone_type_idx='{toneTypeIdx}';
SQL32_DELETE_ALL_TONE_PROV_INFO=delete from CRBT_SUBS_TONE_PROV_INFO where subscriber_id='{aparty}';
SQL33_DELETE_ALL_TONE_INFO = delete from CRBT_SUBS_TONE_PROV_INFO where subscriber_id='{aparty}';
SQL34_INSERT_TP_CDR=insert into CRBT_TP_CDR_DETAILS (subscriber_id,calling_party,play_status,tone_type,status,song_name,duration,tone_id,play_start_time,play_end_time) values ('{bparty}','{aparty}','{playStatus}','{toneType}','{status}','{songName}','{duration}','{toneId}','{playStartTime}','{playEndTime}');
SQL35_SELECT_SONG_NAME_DETAIL = select songname from contentproperties where songid='{toneId}'; 
SQL36_SELECT_CAT_SUBCAT_DETAILS= select songid,songname from contentproperties where cpcategory1='{categoryId}' and cpcategory2='{subCategoryId}' and contentstatus='PUBLISHED'  order by lastmodifieddate  desc limit {contentCount};
SQL36_SELECT_ALBUM_DETAILS = select albumid,toneid1,tonename1,toneid2,tonename2,toneid3,tonename3,toneid4,tonename4 from albums order by lastmodifieddate desc limit {contentCount};
SQL36_SELECT_NAME_TUNE_DETAILS= select songid,songname from contentproperties where cpcategory1='{categoryId}' and contentstatus='PUBLISHED' and (songname='{name1}') limit {contentCount};
#SQL36_SELECT_NAME_TUNE_DETAILS= select songid,songname from contentproperties where cpcategory1='{categoryId}' and contentstatus='PUBLISHED' and (songname='{name1}' or songname='{name2}' or songname='{name3}' or songname='{name4}') limit {contentCount};
SQL36_SELECT_SUB_NAME_DETAILS= select name1,name2,name3,name4 from SUBSCRIBER_NAME_DETAILS where subscriber_id='{aparty}';
SQL37_INSERT_VSMS_BILLING_CDR=insert into VSMS_BILLING_CDR(transaction_id,subscriber_id,v_msisdn,interface_id,action,service_id,product_id,is_charging,result,error_code,charging_date) values ('{transactionId}','{aparty}','{vMsisdn}','{interfaceId}','{action}','{serviceId}','{productId}','{isCharging}','{result}','{errorCode}',now());
SQL38_INSERT_VSMS_MESSAGE_DETAILS=insert into VSMS_MESSAGE_DETAILS (subscriber_id,v_msisdn,interface_id,status,duration,send_date,recording_path) values ('{subscriberId}','{vMsisdn}','{interfaceId}','{status}','{duration}',now(),'{recordingPath}');
SQL39_SELECT_VSMS_MESSAGE_DETAILS=select id,subscriber_id,recording_path from VSMS_MESSAGE_DETAILS where (v_msisdn='{vMsisdn}' or v_msisdn='{zvMsisdn}') and status='A';
SQL40_SELECT_BACKUP_VSMS_MESSAGE=select id,subscriber_id, v_msisdn, interface_id, status, duration ,send_date, listening_date, recording_path from VSMS_MESSAGE_DETAILS where id={voiceMessageId};
SQL41_INSERT_BACKUP_VSMS_MESSAGE=insert into VSMS_MESSAGE_BACKUP (transaction_id,subscriber_id,v_msisdn,interface_id,status,duration,send_date,listening_date, delete_date,recording_path) values ({transactionId},'{subscriberId}','{vMsisdn}','{interfaceId}','{status}','{duration}','{sendDate}',now(),now(),'{recordingPath}');
SQL42_DELETE_VSMS_MESSAGE_DETAILS=delete from  VSMS_MESSAGE_DETAILS where id={voiceMessageId};
SQL43_INSERT_IVR_CDR=insert into CRBT_IVR_CDR_DETAILS (aparty,bparty,reason,duration,last_node,call_start,call_end) values ('{aparty}','{bparty}','{reason}',{duration},'{lastNode}','{callStartTime}','{callEndTime}');
SQL44_SELECT_SUB_CAT_MAPPING= select new_cat_name, new_sub_cat_name from CRBT_CAT_SUBCAT_MAPPING where cat_name='{categoryId}' and sub_cat_name='{subCategoryId}'
SQL45_UPDATE_PRAYER_TIME_INTERVAL= update CRBT_PRAYER_INTERVAL_DETAILS set start_time_1='{startTime1}',end_time_1='{endTime1}',start_time_2='{startTime2}',end_time_2='{endTime2}',start_time_3='{startTime3}',end_time_3='{endTime3}',start_time_4='{startTime4}',end_time_4='{endTime4}',start_time_5='{startTime5}',end_time_5='{endTime5}' where id=1;
SQL45_SELECT_PRAYER_TIME_INTERVAL= select start_time_1, end_time_1,start_time_2, end_time_2,start_time_3, end_time_3,start_time_4, end_time_4,start_time_5, end_time_5 from CRBT_PRAYER_INTERVAL_DETAILS limit 1;
SQL46_APARTY_CRBT_CHECK=select subscriber_id,tone_id from CRBT_SUBS_TONE_PROV_INFO where subscriber_id='{msisdn}' order by  tone_type asc limit 1;
SQL47_USER_DEFAULT_TONE_INFO=select tone_id from CRBT_SUBS_TONE_PROV_INFO where subscriber_id='{msisdn}' and tone_type='0' limit 1;
SQL48_INSERT_ASYNC_TONE_PLAYER_DTMF= insert into CRBT_ASYNC_START_TO_COPY_INFO (aparty,bparty,tone_id,digits,start_time,end_time,star_to_copy,aparty_rbt_flag,status,service_id,product_id,tone_service_id,tone_product_id,is_tone_charge) values ('{aparty}','{bparty}','{toneId}','{digits}',STR_TO_DATE('{startTime}','%Y-%m-%d %H:%i:%s'),STR_TO_DATE('{endTime}','%Y-%m-%d %H:%i:%s'),'{starToCopy}','{apartyRbtFlag}','{status}','{serviceId}','{productId}','{toneServiceId}','{toneProductId}','{isToneCharge}');
SQL49_SELECT_ASYNC_TONE_PLAYER_DTMF= select count(1) from CRBT_ASYNC_START_TO_COPY_INFO where aparty='{aparty}' and status='A';